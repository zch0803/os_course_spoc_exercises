#lec9 虚存置换算法spoc练习

## 个人思考题
1. 置换算法的功能？

2. 设计置换算法时需要考虑哪些影响因素？如何评判的好坏？

2. 全局和局部置换算法的不同？

3. 最优算法、先进先出算法和LRU算法的思路？

4. 时钟置换算法的思路？

5. LFU算法的思路？

6. 什么是Belady现象？如何判断一种置换算法是否存在Belady现象？

7. 几种局部置换算法的相关性：什么地方是相似的？什么地方是不同的？为什么有这种相似或不同？

8. 什么是工作集？

9. 什么是常驻集？

10. 工作集算法的思路？

11. 缺页率算法的思路？

12. 什么是虚拟内存管理的抖动现象？

13. 操作系统负载控制的最佳状态是什么状态？

14. 局部置换算法（如FIFO, LRU等）是否能作为全局置换算法来使用？为什么？

15. 改进时钟置换算法的极端情况: 如果所有的页面都被修改过了，这时需要分配新的页面时，算法的performance会如何？能否改进在保证正确的前提下提高缺页中断的处理时间？

提示：中断时间很短，如果需要写回，可以采用异步的方式，也就是修改后的时钟算法会先清零修改位，但并不立即写回。


16. 如何设计改进时钟算法的写回策略?

提示：由于这个问题比较复杂，课上指出了大致方法（并没有彻底解决）：改进时钟算法引入了修改位，当修改位从1置为0时，该页表项会被标上 * 标记。课堂上讲的策略是立即把标上 * 的页面放入写队列，随后会将其写入硬盘。

这里提出一个方法：实际上也可以标上*之后不将其放入写队列，而是使用1位来表示其需要写回，等到该页被替换掉的时候再将其放入写队列。

比较：和老师讲的策略相比，

- 写回的次数会更少（更加懒惰），
- 写队列的容量会要求更小，每次缺页异常最多只需要将1页送入写队.老师的策略可能一次异常，在极端情况将所有页面放入写队列）
每次是否缺页不会变化（因为仅仅只影响是否写回，不影响替换策略）
这种策略会更好。
 

## 小组思考题目

----
(1)（spoc）请证明为何LRU算法不会出现belady现象


(2)（spoc）根据你的`学号 mod 4`的结果值，确定选择四种页面置换算法（0：LRU置换算法，1:改进的clock 页置换算法，2：工作集页置换算法，3：缺页率置换算法）中的一种来设计一个应用程序（可基于python, ruby, C, C++，LISP等）模拟实现，并给出测试。请参考如python代码或独自实现。
 - [页置换算法实现的参考实例](https://github.com/chyyuu/ucore_lab/blob/master/related_info/lab3/page-replacement-policy.py)
 
## 扩展思考题
（1）了解LIRS页置换算法的设计思路，尝试用高级语言实现其基本思路。此算法是江松博士（导师：张晓东博士）设计完成的，非常不错！

参考信息：

 - [LIRS conf paper](http://www.ece.eng.wayne.edu/~sjiang/pubs/papers/jiang02_LIRS.pdf)
 - [LIRS journal paper](http://www.ece.eng.wayne.edu/~sjiang/pubs/papers/jiang05_LIRS.pdf)
 - [LIRS-replacement ppt1](http://dragonstar.ict.ac.cn/course_09/XD_Zhang/(6)-LIRS-replacement.pdf)
 - [LIRS-replacement ppt2](http://www.ece.eng.wayne.edu/~sjiang/Projects/LIRS/sig02.ppt)
